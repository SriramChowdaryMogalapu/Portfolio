<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Sriram Chowdary Mogalapu" />
    <meta name="keywords" content="Portfolio,Html,Css,JavaScript" />
    <meta name="description" content="Portfolio of Sriram Chowdary Mogalapu" />
    <link rel="stylesheet" href="style.css" />
    <title>SRIRAM CHOWDARY MOGALAPU</title>
    <!-- Updated Font Awesome to latest version (6.5.1) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <style>
      [id^="nav-icon"]:hover {
        padding-left: 15px;
        padding-right: 15px;
        padding-top: 5px;
        padding-bottom: 5px;
        margin: 5px;
        background-color: rgb(255, 166, 0);
      }
      #nav-icon-5 {
        padding-left: 15px;
        padding-right: 15px;
        padding-top: 5px;
        padding-bottom: 5px;
        margin: 5px;
        border: #0277fc solid;
      }
      #name {
        width: 400px;
        height: 50px;
      }

      #email {
        width: 400px;
        height: 50px;
      }

      #phonenumber {
        width: 325px;
        height: 50px;
      }

      #description {
        width: 450px;
        height: 200px;
      }
      footer a:hover{
        padding-left: 15px;
        padding-right: 15px;
        padding-top: 5px;
        padding-bottom: 5px;
        margin: 5px;
        background-color: rgb(255, 166, 0);
      }
    </style>
  </head>

  <body>
    <!-- <?php include 'backend.php'; ?> -->
    <header id="header">
      <div id="nav-bar">
        <div id="nav-icon-1">
          <a href="home.html"><i class="fa-solid fa-house"></i> &nbsp Home</a>
        </div>
        <div id="nav-icon-2">
          <a href="about.html"
            ><i class="fa-solid fa-user-tie"></i> &nbsp About Me</a
          >
        </div>
        <div id="nav-icon-3">
          <a href="skills.html"
            ><i class="fa-brands fa-centos"></i> &nbsp Skills and
            Certifications</a
          >
        </div>
        <div id="nav-icon-4">
          <a href="projects.html"
            ><i class="fa-regular fa-file-code"></i> &nbsp Projects</a
          >
        </div>
        <div id="nav-icon-5">
          <a href="#contact"><i class="fa-solid fa-phone"></i> &nbsp Contact</a>
        </div>
      </div>
      <br /><br />
    </header>
    <main>
      <div id="content">
        <h1 id="content-heading">Fill the form to contact me...</h1>
        <div id="form">
          <form autocomplete="on" onsubmit="sendEmail();reset();return false;">
            <label for="name">Name:</label>&nbsp &nbsp
            <input
              type="text"
              id="name"
              name="name"
              placeholder="Your Name"
              required
            /><br /><br />
            <label for="email">Email:</label>&nbsp &nbsp
            <input
              type="email"
              id="email"
              name="email"
              placeholder="mail@gmail.com"
              required
            /><br /><br />
            <label for="phonenumber">Phone Number:</label>&nbsp &nbsp
            <input
              type="tel"
              id="phonenumber"
              name="phonenumber"
              placeholder="0123456789"
              pattern="[0-9]+"
              required
            /><br /><br />
            <label for="description">Description:</label>&nbsp &nbsp
            <input
              type="text"
              id="description"
              name="description"
              placeholder="Your Message"
              required
            /><br /><br />
            <input type="submit" value="Submit" id="submit" />
            <!-- Form submission using fetch API to server endpoint -->
            <script>
              function sendEmail() {
                // Get form data
                const formData = {
                  name: document.getElementById("name").value,
                  email: document.getElementById("email").value,
                  phone: document.getElementById("phonenumber").value,
                  message: document.getElementById("description").value
                };
                
                // Show loading indicator
                const submitBtn = document.getElementById("submit");
                const originalText = submitBtn.value;
                submitBtn.value = "Sending...";
                submitBtn.disabled = true;
                
                // Send data to server API
                fetch('/api/send-email', {
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json'
                  },
                  body: JSON.stringify(formData)
                })
                .then(response => response.json())
                .then(data => {
                  if (data.success) {
                    alert("Message sent Successfully! You will receive reply within two days.");
                  } else {
                    alert("Failed to send message. Please try again later.");
                  }
                })
                .catch(error => {
                  console.error('Error:', error);
                  alert("An error occurred. Please try again later.");
                })
                .finally(() => {
                  // Reset button
                  submitBtn.value = originalText;
                  submitBtn.disabled = false;
                });
              }
            </script>
          </form>
        </div>
      </div>
    </main>
    <footer id="footer">
      <h3>Follow me on</h3>
      <div id="social-media">
        <a href="https://github.com/SriramChowdaryMogalapu"
          ><i class="fa-brands fa-github"></i> &nbsp Github</a
        >
        <a
          href="https://www.linkedin.com/in/sriram-chowdary-mogalapu-899500185/"
          ><i class="fa-brands fa-linkedin"></i> &nbsp Linkedin</a
        >
        <a href="https://www.instagram.com/sriram.mogalapu/"
          ><i class="fa-brands fa-instagram"></i> &nbsp Instagram</a
        >
        <a href="https://www.facebook.com/SriramChowdary123"
          ><i class="fa-brands fa-facebook"></i> &nbsp Facebook</a
        >
        <a
          href="https://api.whatsapp.com/send?phone=919381436552&text=Hi!%20%20This%20is%20Sriram%20here!!%20Feel%20Free%20to%20message%20me%20for%20any%20doubts!!"
          ><i class="fa-brands fa-whatsapp"></i> &nbsp WhatsApp</a
        >
      </div>
      <br />
      <h3>Contact me on</h3>
      <br />
      <div id="contact">
        <a href="mailto: mogalapusriram391@gmail.com"
          ><i class="fa-solid fa-envelope"></i> &nbsp
          mogalapusriram391@gmail.com</a
        >
        <br />
        <a href="tel: +91 9381436552"
          ><i class="fa-solid fa-mobile"></i> &nbsp 9381436552</a
        >
        <br />
        <a href="Form.html"
          ><i class="fa-solid fa-align-justify"></i> &nbsp Contact via form</a
        >
      </div>
    </footer>
  </body>
</html>
